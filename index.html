<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MHT-CET Cosmos</title>
<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0a0a15;
  color:white;
}
.container{
  padding:20px;
}
.card{
  background:rgba(255,255,255,0.05);
  padding:15px;
  border-radius:12px;
  margin-bottom:15px;
}
h1{
  text-align:center;
  margin-bottom:20px;
}
button{
  padding:8px 12px;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
.primary{
  background:#6366f1;
  color:white;
}
input{
  padding:6px;
  border-radius:6px;
  border:none;
}
.progress{
  height:8px;
  background:#222;
  border-radius:10px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  background:#34d399;
  width:0%;
}
</style>
</head>
<body>

<div class="container">
<h1>ðŸš€ MHT-CET War Mode</h1>

<div class="card">
<h3>Study Hours Today</h3>
<input type="number" id="hours" placeholder="Enter hours">
<button class="primary" onclick="saveHours()">Save</button>
<p id="todayHours"></p>
</div>

<div class="card">
<h3>Daily Goal</h3>
<input type="number" id="goal" value="8">
<button onclick="setGoal()">Set Goal</button>
<div class="progress">
<div class="progress-bar" id="goalBar"></div>
</div>
<p id="goalText"></p>
</div>

<div class="card">
<h3>Study Streak ðŸ”¥</h3>
<p id="streak"></p>
</div>

<div class="card">
<h3>Exam Countdown ðŸŽ¯</h3>
<input type="date" id="examDate">
<p id="countdown"></p>
</div>

</div>

<script>
function today(){
  return new Date().toDateString();
}

function saveHours(){
  const hrs = parseFloat(document.getElementById("hours").value) || 0;
  localStorage.setItem("hours_"+today(), hrs);
  updateDisplay();
  updateStreak();
}

function setGoal(){
  const g = parseFloat(document.getElementById("goal").value) || 8;
  localStorage.setItem("dailyGoal", g);
  updateDisplay();
}

function updateDisplay(){
  const hrs = parseFloat(localStorage.getItem("hours_"+today())) || 0;
  const goal = parseFloat(localStorage.getItem("dailyGoal")) || 8;
  
  document.getElementById("todayHours").innerText = "Today: "+hrs+" hrs";
  
  const percent = Math.min((hrs/goal)*100,100);
  document.getElementById("goalBar").style.width = percent+"%";
  document.getElementById("goalText").innerText = percent.toFixed(0)+"% of goal";

  document.getElementById("streak").innerText = localStorage.getItem("streak") || 0;
}

function updateStreak(){
  const last = localStorage.getItem("lastDate");
  const todayStr = today();
  const yesterday = new Date(Date.now()-86400000).toDateString();
  let streak = parseInt(localStorage.getItem("streak")) || 0;

  if(last !== todayStr){
    if(last === yesterday){
      streak += 1;
    } else {
      streak = 1;
    }
    localStorage.setItem("streak", streak);
    localStorage.setItem("lastDate", todayStr);
  }
  updateDisplay();
}

function updateCountdown(){
  const date = document.getElementById("examDate").value;
  if(!date) return;
  localStorage.setItem("examDate", date);
  const diff = Math.ceil((new Date(date) - new Date())/86400000);
  document.getElementById("countdown").innerText = diff+" days remaining";
}

document.getElementById("examDate").addEventListener("change", updateCountdown);

window.onload = function(){
  const savedDate = localStorage.getItem("examDate");
  if(savedDate){
    document.getElementById("examDate").value = savedDate;
    updateCountdown();
  }
  updateDisplay();
};
</script>

</body>
</html>
